<section class="content" @scaleIn>
    <div class="profile-box">
        <div class="profile-cover">
            <div class="profile-layer"></div>
        </div>
        <div class="profile-image">
            <div class="img-border">
                <img *ngIf="profileContainer?.img?.url" [src]="profileContainer?.img?.url" alt="profile-image">
                <img *ngIf="!profileContainer?.img?.url" src="assets/user.png" alt="profile-image">
                <label for="profilePic" *ngIf="profileContainer?.relation === 'isOwner'">
                    <span class="change-pp">

                    </span>
                </label>
                <div class="img-loader" *ngIf="sendRequest">
                    <i class="fa fa-spinner fa-spin" aria-hidden="true"></i>
                </div>
                <input type="file" id="profilePic" style="display: none" (change)="profileImageSelected($event)">
            </div>
        </div>
        <div class="text-box">
            <div class="profile-name"><span>{{profileContainer?.firstName | titlecase}} {{profileContainer?.lastName | titlecase}}</span></div>
            <div class="bio mb-2">{{profileContainer?.bio}}</div>
            <div class="profile-details">
                <div class="country mx-2"><i class="far fa-flag mx-2 caption-icon"></i> <span class="caption-details">{{profileContainer?.country}}</span></div>
                <div class="gender mx-2"><i class="fa fa-venus-mars mx-2 caption-icon" aria-hidden="true"></i> <span class="caption-details">{{profileContainer?.gender}}</span></div>
                <div class="age mx-2"><i class="fas fa-baby mx-2 caption-icon"></i> <span class="caption-details">{{profileContainer?.age}} yrs</span></div>
            </div>
            <div class="friend-req mt-2">
                <button *ngIf="profileContainer?.relation === 'isFriend'" class="message-btn"><i class="fas fa-comment-dots mr-1"></i> <span>Message</span></button>
                <button (click)="sendAddFriend(profileContainer._id)" *ngIf="profileContainer.relation === 'isStranger'" class="add-friend-btn mx-2"><i class="fa fa-user-plus mr-1" aria-hidden="true"></i> <span>Add Friend</span></button>
                <button *ngIf="profileContainer?.relation === 'isFriendSent'" class="message-btn mx-2"><span>Sent Request</span></button>
                <div uk-lightbox>
                    <a class="view-profile-btn" [href]="profileContainer?.img?.url ? profileContainer?.img?.url : 'assets/user.png'">View Profile Picture</a>
                </div>
            </div>
        </div>
        <div uk-slider="" id="slider-part">
            <hr class="uk-divider-icon">
            <div><span class="text-light font-weight-bold">Friends</span></div>
            <div class="alert alert-warning" *ngIf="profileContainer?.userFriends?.length === 0">
                <i class="fa fa-exclamation-triangle mx-2" aria-hidden="true"></i>
                <span>{{profileContainer?.relation === 'isOwner' ? 'You' : 'This person'}} doesn't have any friend <a routerLink="/people" class="text-decoration-none">Find some</a></span>
            </div>
            <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1">

                <ul class="uk-slider-items uk-child-width-1-3@xs  uk-child-width-1-3@s uk-child-width-1-4@m uk-child-width-1-5@l uk-grid">
                    <li *ngFor="let friend of profileContainer?.userFriends">
                        <a class="uk-card uk-card-default text-decoration-none" [routerLink]="['/profile', friend._id]">
                            <div class="uk-card-media-top">
                                <img *ngIf="friend?.img?.url" [src]="friend?.img.url" style="display: flex; align-items: center; justify-content: center; height: 100px; width: auto; border-radius: 10px" alt="friend-img">
                                <img *ngIf="!friend?.img?.url" src="assets/user.png" style="display: flex; align-items: center; justify-content: center; height: 100px; width: auto; border-radius: 10px" alt="friend-img">
                            </div>
                            <div class="card-caption">
                                <div class="card-name">{{friend.firstName | titlecase}} {{friend.lastName | titlecase}}</div>
                                <div class="card-data">{{friend.country}}, {{friend.gender}}</div>
                            </div>
                        </a>
                    </li>
                </ul>

                <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
                <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>

            </div>
        </div>
        <!--Preloader part-->
        <div class="preloader">
            <div class="loading-part">
                <div class="sk-folding-cube">
                    <div class="sk-cube1 sk-cube"></div>
                    <div class="sk-cube2 sk-cube"></div>
                    <div class="sk-cube4 sk-cube"></div>
                    <div class="sk-cube3 sk-cube"></div>
                </div>
            </div>
        </div>
    </div>
</section>
